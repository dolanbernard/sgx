[workspace]
resolver = "2"
members = [
    "core/ffi/types",
    "crypto/ffi/types",
    "crypto/ffi",
    "panic/abort",
    "quote_verify",
    "service/ffi",
    "service/ffi/types",
    "trts/ffi",
    "urts",
    "urts/ffi",
    "urts/ffi/types",
]

exclude = [
    # Exclude build and source so they aren't built by default, only when
    # specifically required
    "core/build",
    "core/source",
    "test_enclave",
]

[profile.dev]
opt-level = 0
rpath = true
lto = true

[profile.release]
opt-level = 3
rpath = false
lto = true
debug-assertions = false
overflow-checks = false

# Skip the need for LD_LIBRARY_PATH in `cargo test`
[profile.test]
rpath = true

